● 获取省市区数据API对接文档

  接口信息

  - 接口地址: GET /api/house/getCityCode
  - 认证方式: JWT Token (需要携带在请求头中)
  - 请求方式: GET

  请求头

  Authorization: Bearer {jwt_token}

  请求参数

  无需任何参数

  响应格式

  {
    "status": 1,
    "data": {
      "110000": {
        "name": "北京市",
        "children": {
          "110100": {
            "name": "北京市",
            "children": {
              "110101": "东城区",
              "110102": "西城区",
              "110105": "朝阳区",
              "110106": "丰台区",
              "110107": "石景山区",
              "110108": "海淀区",
              "110109": "门头沟区",
              "110111": "房山区",
              "110112": "通州区",
              "110113": "顺义区",
              "110114": "昌平区",
              "110115": "大兴区",
              "110116": "怀柔区",
              "110117": "平谷区",
              "110118": "密云区",
              "110119": "延庆区"
            }
          }
        }
      },
      "310000": {
        "name": "上海市",
        "children": {
          "310100": {
            "name": "上海市",
            "children": {
              "310101": "黄浦区",
              "310104": "徐汇区",
              "310105": "长宁区",
              "310106": "静安区",
              "310107": "普陀区",
              "310109": "虹口区",
              "310110": "杨浦区",
              "310112": "闵行区",
              "310113": "宝山区",
              "310114": "嘉定区",
              "310115": "浦东新区",
              "310116": "金山区",
              "310117": "松江区",
              "310118": "青浦区",
              "310120": "奉贤区",
              "310151": "崇明区"
            }
          }
        }
      },
      "440000": {
        "name": "广东省",
        "children": {
          "440100": {
            "name": "广州市",
            "children": {
              "440103": "荔湾区",
              "440104": "越秀区",
              "440105": "海珠区",
              "440106": "天河区",
              "440111": "白云区",
              "440112": "黄埔区",
              "440113": "番禺区",
              "440114": "花都区",
              "440115": "南沙区",
              "440117": "从化区",
              "440118": "增城区"
            }
          },
          "440300": {
            "name": "深圳市",
            "children": {
              "440303": "罗湖区",
              "440304": "福田区",
              "440305": "南山区",
              "440306": "宝安区",
              "440307": "龙岗区",
              "440308": "盐田区",
              "440309": "龙华区",
              "440310": "坪山区",
              "440311": "光明区"
            }
          }
        }
      }
    }
  }

  数据结构说明

  省级数据结构

  {
    "省份代码": {
      "name": "省份名称",
      "children": {
        // 城市级数据
      }
    }
  }

  城市级数据结构

  {
    "城市代码": {
      "name": "城市名称",
      "children": {
        // 区县级数据
      }
    }
  }

  区县级数据结构

  {
    "区县代码": "区县名称"
  }

  响应字段说明

  | 字段名     | 类型     | 说明                 |
  |---------|--------|--------------------|
  | status  | number | 状态码 (1表示成功，-1表示失败) |
  | data    | object | 省市区三级联动数据对象        |
  | message | string | 错误信息 (仅在失败时返回)     |

  错误响应示例

  {
    "status": -1,
    "data": [],
    "message": "地址获取失败"
  }

  前端使用示例

  获取省份列表

  const provinces = Object.keys(data).map(code => ({
    code,
    name: data[code].name
  }));

  获取指定省份的城市列表

  const getCityList = (provinceCode) => {
    const province = data[provinceCode];
    if (!province) return [];

    return Object.keys(province.children).map(code => ({
      code,
      name: province.children[code].name
    }));
  };

  获取指定城市的区县列表

  const getAreaList = (provinceCode, cityCode) => {
    const province = data[provinceCode];
    if (!province || !province.children[cityCode]) return [];

    const areas = province.children[cityCode].children;
    return Object.keys(areas).map(code => ({
      code,
      name: areas[code]
    }));
  };

  注意事项

  1. 数据来源于 app/public/js/cityCode.js 文件
  2. 数据层级为：省 → 市 → 区县
  3. 所有代码均为标准的行政区划代码
  4. 需要有效的JWT Token才能访问
  5. 该接口通常用于页面初始化时加载省市区联动数据
  6. 前端建议缓存该数据，避免重复请求